"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.fmessagePactWith = exports.xmessagePactWith = exports.messagePactWith = void 0;
const pact_1 = require("@pact-foundation/pact");
const config_1 = require("./internal/config");
const withTimeout_1 = require("./internal/withTimeout");
const scaffold_1 = require("./internal/scaffold");
const setupMessageProvider = (options) => new pact_1.MessageConsumerPact(options);
const jestMessagePactWrapper = (options, tests) => {
    (0, withTimeout_1.withTimeout)(options, () => {
        tests(setupMessageProvider((0, config_1.applyMessagePactOptionDefaults)(options)));
    });
};
exports.messagePactWith = (0, scaffold_1.extendPactWith)(jestMessagePactWrapper);
exports.xmessagePactWith = exports.messagePactWith.skip;
exports.fmessagePactWith = exports.messagePactWith.only;
//# sourceMappingURL=messagePactWith.js.map